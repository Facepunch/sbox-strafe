
@inherits Panel

<root class="@((Game.LocalPawn as StrafePlayer).SpectateTarget == Replay ? "active" : "")"
    @onclick=@(() => StrafePlayer.SetSpectateTarget(Replay.NetworkIdent))>

    <label class="name" text=@BotName />

    <panel>
        <label @text=@Replay.FinalFrame.Time.ToTime() />
    </panel>

    <panel>
        <label style="margin-right: 4px;" text="Jumps:" />
        <label @text=@Replay.FinalFrame.Jumps />
    </panel>

    <panel>
        <label style="margin-right: 4px;" text="Strafes:" />
        <label @text=@Replay.FinalFrame.Strafes />
    </panel>


</root>

@code {
    internal ReplayEntity Replay { get; set; }

    string BotName = "Unknown";

    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        if (Replay == null) 
            return;

        var friend = new Friend(Replay.PlayerId).Name;
        BotName = $"{friend} - {Replay.FinalFrame.Time.ToTime()} - {Replay.Style}";
    }
}

